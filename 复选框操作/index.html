<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{margin:0;padding: 0;}
        #box{width: 150px;position: relative;margin: 10px auto;border: #4d6c26 1px solid;border-radius: 10px;background: #ebffc0;}
        #box input{margin: 10px;}
        a{color: deepskyblue;}
        a:hover{text-decoration: underline;}
        #alert{position: absolute;margin-left: 37%;width: 500px;height: 50px;font-size: small;}
    </style>
    <script>
        window.onload = function () {
            var aCheckBoxs = document.getElementsByTagName('input');
            var oChoice = document.getElementById('choice');
            var oA = document.getElementById('aa');
            function isAllCheck() {
                var count = 0;
                for(var i = 1;i < aCheckBoxs.length;i++){
                    if(aCheckBoxs[i].checked){
                        count++;
                    }
                }
                if(aCheckBoxs[0].checked || (count = aCheckBoxs.length - 1)){
                    aCheckBoxs[0].checked;
                }
                oChoice.innerHTML = aCheckBoxs[0].checked ? '全不选': '全选';
            }
            aCheckBoxs[0].onclick = function () {
                for(var i = 0;i < aCheckBoxs.length;i++){
                    aCheckBoxs[i].checked = this.checked;
                    isAllCheck();
                }
            }
            oA.onclick = function () {
                for(var i = 1;i < aCheckBoxs.length;i++){
                    aCheckBoxs[i].checked = !aCheckBoxs[i].checked;
                    isAllCheck();
                }
                isAllCheck();
            }
            for(var i = 0;i < aCheckBoxs.length;i++){
                aCheckBoxs[i].onclick = function(){
                    isAllCheck();
                }
            }
        }

    </script>
</head>
<body>
    <div id="box">
        <input type="checkbox" id="all"><label id="choice">全选</label>&nbsp
        <a id="aa">反选</a>
        <br/><hr/>
        <input type="checkbox">选项（一）<br/>
        <input type="checkbox">选项（二）<br/>
        <input type="checkbox">选项（三）<br/>
        <input type="checkbox">选项（四）<br/>
        <input type="checkbox">选项（五）<br/>
        <input type="checkbox">选项（六）<br/>
        <input type="checkbox">选项（七）<br/>
        <input type="checkbox">选项（八）<br/>
        <input type="checkbox">选项（九）<br/>
        <input type="checkbox">选项（十）<br/>
    </div>
    <span id="alert">1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</span>
</body>
</html>